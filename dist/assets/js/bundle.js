(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const t=function(){var t=new(function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r;return n=t,(r=[{key:"getDates",value:function(){for(var e=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],t=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g],n=function(n){if("string"==typeof n)for(var r=0;r<10;r++)n=n.replace(e[r],r).replace(t[r],r);return n}((new Date).toLocaleDateString("fa-IR").slice(0,4)),r=n-20,c=document.querySelector(".year-select"),a=n;a>=r;a--){var o=document.createElement("option");o.value=a,o.textContent=a,c.appendChild(o)}}},{key:"getYearDefference",value:function(e){var t=[/۰/g,/۱/g,/۲/g,/۳/g,/۴/g,/۵/g,/۶/g,/۷/g,/۸/g,/۹/g],n=[/٠/g,/١/g,/٢/g,/٣/g,/٤/g,/٥/g,/٦/g,/٧/g,/٨/g,/٩/g];return function(e){if("string"==typeof e)for(var r=0;r<10;r++)e=e.replace(t[r],r).replace(n[r],r);return e}((new Date).toLocaleDateString("fa-IR").slice(0,4))-e}},{key:"caculatePrice",value:function(e,t){var n;switch(e){case"0":n=23e5;break;case"1":n=26e5;break;case"2":n=36e5;break;case"3":n=4e6;break;case"4":n=46e5}return n-3*this.getYearDefference(t)/100*n}},{key:"calculateInsType",value:function(e,t){switch(e){case"شخص ثالث":t*=1.3;break;case"کامل":t*=1.5}return t}}])&&e(n.prototype,r),t}());return{getDates:function(){return t.getDates()},caculatePrice:function(e,n){return t.caculatePrice(e,n)},calculateInsType:function(e,n){return t.calculateInsType(e,n)}}}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const r=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select_type=document.querySelector("#select-type"),this.select_year=document.querySelector("#select-year"),this.simple_input=document.querySelector("#simple"),this.perfect_input=document.querySelector("#perfect"),this.factor_div=document.querySelector("#factor"),this.spinner_img=document.querySelector("#factor .spinner-img"),this.message_area=document.querySelector("#message")}var t,r;return t=e,(r=[{key:"showResult",value:function(e,t,n,r){var c=this;switch(document.querySelector(".inner")&&document.querySelector(".inner").remove(),e){case"0":e="پراید";break;case"1":e="پژو";break;case"2":e="زانتیا";break;case"3":e="اپتیما";break;case"4":e="پورشه"}var a=document.createElement("div");a.classList="inner",a.innerHTML='\n                <ul>\n                    <li class="car-type">مدل ماشین: '.concat(e,'</li>\n                    <li class="made-year">سال ساخت: ').concat(t,'</li>\n                    <li class="ins-type">نوع بیمه: ').concat(n,'</li>\n                    <li>قیمت نهایی: <span id="price">').concat(r,"</span></li>\n                </ul>\n            "),this.spinner_img.style.display="block",setTimeout((function(){c.spinner_img.style.display="none",document.querySelector(".inner")||c.factor_div.appendChild(a)}),2500)}},{key:"showMessage",value:function(e,t){var n=this,r=document.createElement("div");r.textContent=e,r.classList="alert alert-".concat(t," mt-4"),document.querySelector(".alert")||this.message_area.appendChild(r),setTimeout((function(){n.removeAert()}),2e3)}},{key:"removeAert",value:function(){var e=document.querySelector(".alert");e&&e.remove()}}])&&n(t.prototype,r),e}());var c=document.querySelector("#btn-calculate"),a=document.querySelector("#select-type"),o=document.querySelector("#select-year"),i=document.querySelector("#simple"),u=document.querySelector("#perfect");document.addEventListener("DOMContentLoaded",(function(){t.getDates()})),c.addEventListener("click",(function(){var e=a.value,n=o.value,c="";if(i.checked?c="شخص ثالث":u.checked&&(c="کامل"),""==e||""==n)r.showMessage("لطفا تمامی فیلدها را پر کنید.","danger"),document.querySelector(".inner")&&document.querySelector(".inner").remove();else{var l=t.caculatePrice(e,n),s=t.calculateInsType(c,l);r.showResult(e,n,c,s)}}))})();